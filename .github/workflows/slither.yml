name: Slither

on:
  workflow_dispatch:
  pull_request:
    paths:
      - 'rescuestream/contracts/**'

jobs:
  slither:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Install Slither
        run: |
          sudo add-apt-repository ppa:ethereum/ethereum -y
          sudo apt-get update
          sudo apt-get install -y slither-analyzer
      - name: Run Slither
        working-directory: rescuestream
        run: |
          slither . --ignore-compile --solc-remaps @openzeppelin=node_modules/@openzeppelin

